var argv =       require('minimist')(process.argv.slice(2));
console.dir(argv);

var url,server,browser,os,dev,browserVersion,username,apikey=null;

var pluginConfig={};
pluginConfig.platform,pluginConfig.resolution,pluginConfig.framework,pluginConfig.url,pluginConfig.server,pluginConfig.browser,pluginConfig.os,pluginConfig.dev,pluginConfig.browserVersion,pluginConfig.username,pluginConfig.apikey=null;

//sets dev url or production
pluginConfig.url =      (typeof argv.dev === 'undefined' || argv.dev === 'true') ?  'http://plugin.retrotax-aci.com' : 'http://localhost/plugin';
pluginConfig.username = (typeof argv.username === 'undefined') ?  'demoapi.hiring.manager' : argv.username;
pluginConfig.apikey = (typeof argv.apikey === 'undefined') ?  'B47400F36FB8BA0C247798C94D153703' : argv.apikey;
pluginConfig.framework = (typeof argv.apikey === 'undefined') ?  'material-design' : argv.apikey;

var browsers=['firefox','chrome','ie','safari','opera','android','iPhone','iPad']; //{android|chrome|firefox|htmlunit|internet explorer|iPhone|iPad|opera|safari}
pluginConfig.browser = (typeof argv.browser === 'undefined' || browsers.indexOf(argv.browser) === -1) ?  'firefox' : argv.browser;

var platforms=['MAC', 'WIN8', 'XP', 'WINDOWS', 'ANY', 'ANDROID'];
pluginConfig.platform = (typeof argv.platform === 'undefined' || platforms.indexOf(argv.platform) === -1) ?  'WIN8' : argv.platform;

//browserVersion Options
//https://www.browserstack.com/list-of-browsers-and-platforms?product=automate

/*
Windows (XP,7): 800x600, 1024x768, 1280x800, 1280x1024, 1366x768, 1440x900, 1680x1050, 1600x1200, 1920x1200, 1920x1080, 2048x1536 
Windows (8,8.1): 1024x768, 1280x800, 1280x1024, 1366x768, 1440x900, 1680x1050, 1600x1200, 1920x1200, 1920x1080, 2048x1536 
OS X: 1024x768, 1280x960, 1280x1024, 1600x1200, 1920x1080
Default: 1024x768
*/
console.log(pluginConfig.platform);
switch(pluginConfig.platform){
  case 'WIN8':
      pluginConfig.resolution='2048x1536';
      break;
  case 'WINDOWS':
      pluginConfig.resolution='2048x1536';
      break;
  case 'XP':
      pluginConfig.resolution='2048x1536';
      break;
  case 'MAC':
      pluginConfig.resolution='1920x1080';
      break;
  default:
      pluginConfig.resolution='1024x768';
}
console.log(pluginConfig.resolution);


//options: browserstack,retrotax,local 
if(typeof argv.server ==='undefined' || argv.server ==='browserstack'){
   pluginConfig.server = 'http://hub.browserstack.com/wd/hub';
}else if(argv.server=='retrotax'){
   pluginConfig.server = 'http://retrotax-aci.com:4444'; //not available yet
}else{
   pluginConfig.server = 'http://localhost:4444/wd/hub';
}

module.exports = pluginConfig;
